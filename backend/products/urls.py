content="from django.urls import path, include\nfrom rest_framework.routers import DefaultRouter\nfrom . import views\n\n# Create router for viewsets\nrouter = DefaultRouter()\nrouter.register(r'products', views.ProductViewSet, basename='product')\nrouter.register(r'categories', views.CategoryViewSet, basename='category')\nrouter.register(r'reviews', views.ReviewViewSet, basename='review')\n\napp_name = 'products'\n\nurlpatterns = [\n    # Include router URLs\n    path('api/', include(router.urls)),\n    \n    # Custom product endpoints\n    path('api/products/<int:product_id>/reviews/', views.ProductReviewListView.as_view(), name='product-reviews'),\n    path('api/products/<int:product_id>/add-review/', views.AddProductReviewView.as_view(), name='add-product-review'),\n    path('api/products/<int:product_id>/images/', views.ProductImageListView.as_view(), name='product-images'),\n    path('api/products/<int:product_id>/add-image/', views.AddProductImageView.as_view(), name='add-product-image'),\n    path('api/products/search/', views.ProductSearchView.as_view(), name='product-search'),\n    path('api/products/featured/', views.FeaturedProductsView.as_view(), name='featured-products'),\n    path('api/products/on-sale/', views.OnSaleProductsView.as_view(), name='on-sale-products'),\n    path('api/products/by-category/<int:category_id>/', views.ProductsByCategoryView.as_view(), name='products-by-category'),\n    \n    # Category specific endpoints\n    path('api/categories/<int:category_id>/products/', views.CategoryProductsView.as_view(), name='category-products'),\n    path('api/categories/tree/', views.CategoryTreeView.as_view(), name='category-tree'),\n    \n    # Review specific endpoints\n    path('api/reviews/<int:review_id>/helpful/', views.MarkReviewHelpfulView.as_view(), name='mark-review-helpful'),\n    path('api/reviews/user/', views.UserReviewsView.as_view(), name='user-reviews'),\n    \n    # Product management endpoints (admin/staff only)\n    path('api/admin/products/bulk-update/', views.BulkProductUpdateView.as_view(), name='bulk-product-update'),\n    path('api/admin/products/inventory/', views.InventoryManagementView.as_view(), name='inventory-management'),\n    path('api/admin/products/<int:product_id>/toggle-status/', views.ToggleProductStatusView.as_view(), name='toggle-product-status'),\n    \n    # Analytics endpoints\n    path('api/analytics/popular-products/', views.PopularProductsView.as_view(), name='popular-products'),\n    path('api/analytics/product-stats/<int:product_id>/', views.ProductStatsView.as_view(), name='product-stats'),\n    \n    # Wishlist endpoints\n    path('api/wishlist/', views.WishlistView.as_view(), name='wishlist'),\n    path('api/wishlist/add/<int:product_id>/', views.AddToWishlistView.as_view(), name='add-to-wishlist'),\n    path('api/wishlist/remove/<int:product_id>/', views.RemoveFromWishlistView.as_view(), name='remove-from-wishlist'),\n    \n    # Product comparison endpoints\n    path('api/compare/', views.ProductComparisonView.as_view(), name='product-comparison'),\n    path('api/compare/add/<int:product_id>/', views.AddToComparisonView.as_view(), name='add-to-comparison'),\n    path('api/compare/remove/<int:product_id>/', views.RemoveFromComparisonView.as_view(), name='remove-from-comparison'),\n    \n    # Product recommendations\n    path('api/products/<int:product_id>/recommendations/', views.ProductRecommendationsView.as_view(), name='product-recommendations'),\n    path('api/recommendations/for-user/', views.User" additional_kwargs={} response_metadata={'id': 'msg_01NrWR58TuM7WCCws9g43Uua', 'model': 'claude-sonnet-4-20250514', 'stop_reason': 'max_tokens', 'stop_sequence': None, 'usage': {'cache_creation_input_tokens': 0, 'cache_read_input_tokens': 0, 'input_tokens': 399, 'output_tokens': 1024, 'service_tier': 'standard'}} id='run--921f35f2-4fe1-4bdf-b2a2-295d294fcebb-0' usage_metadata={'input_tokens': 399, 'output_tokens': 1024, 'total_tokens': 1423, 'input_token_details': {'cache_read': 0, 'cache_creation': 0}}